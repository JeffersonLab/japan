
ROC=31
Bank=0x3102
!
!
! module.type, module.num  chan.num, det.type, det.name, if unrotated then last column ->UNROTATED

sample_size=15000
!ADC11
  MollerADC, 0, 0,  bpmstripline,  QWK_0R06XP
  MollerADC, 0, 1,  bpmstripline,  QWK_0R06XM
  MollerADC, 0, 2,  bpmstripline,  QWK_0R06YP
  MollerADC, 0, 3,  bpmstripline,  QWK_0R06YM
  MollerADC, 0, 4,  bpmstripline,  QWK_0L06XP
  MollerADC, 0, 5,  bpmstripline,  QWK_0L06XM
  MollerADC, 0, 6,  bpmstripline,  QWK_0L06YP
  MollerADC, 0, 7,  bpmstripline,  QWK_0L06YM

!ADC12
  MollerADC, 1, 0,  bcm,  QWK_BCM0L00
  MollerADC, 1, 1,  bcm,  QWK_BCM0L01
  MollerADC, 1, 2,  bcm,  QWK_BCM0L02
  MollerADC, 1, 3,  bcm,  QWK_BCM0L03
  MollerADC, 1, 4,  bcm,  QWK_BCM0L04
  MollerADC, 1, 5,  bcm,  QWK_BCM0L05
  MollerADC, 1, 6,  bcm,  QWK_BCM0L06
  MollerADC, 1, 7,  bcm,  QWK_BCM0L07

!ADC13
  MollerADC, 2, 0,  bpmstripline,  QWK_1C12XP
  MollerADC, 2, 1,  bpmstripline,  QWK_1C12XM
  MollerADC, 2, 2,  bpmstripline,  QWK_1C12YP
  MollerADC, 2, 3,  bpmstripline,  QWK_1C12YM
  MollerADC, 2, 4,  bpmstripline,  QWK_1H04XP
  MollerADC, 2, 5,  bpmstripline,  QWK_1H04XM
  MollerADC, 2, 6,  bpmstripline,  QWK_1H04YP
  MollerADC, 2, 7,  bpmstripline,  QWK_1H04YM

!ADC14 
  MollerADC, 3, 0, bpmstripline, QWK_1H05XP
  MollerADC, 3, 1, bpmstripline, QWK_1H05XM
  MollerADC, 3, 2, bpmstripline, QWK_1H05YP
  MollerADC, 3, 3, bpmstripline, QWK_1H05YM
  MollerADC, 3, 4, bpmstripline, QWK_1H06XP
  MollerADC, 3, 5, bpmstripline, QWK_1H06XM
  MollerADC, 3, 6, bpmstripline, QWK_1H06YP
  MollerADC, 3, 7, bpmstripline, QWK_1H06YM

!ADC15
  MollerADC, 4, 0, bpmstripline, QWK_1H05XP
  MollerADC, 4, 1, bpmstripline, QWK_1H05XM
  MollerADC, 4, 2, bpmstripline, QWK_1H05YP
  MollerADC, 4, 3, bpmstripline, QWK_1H05YM
  MollerADC, 4, 4, bpmstripline, QWK_1H06XP
  MollerADC, 4, 5, bpmstripline, QWK_1H06XM
  MollerADC, 4, 6, bpmstripline, QWK_1H06YP
  MollerADC, 4, 7, bpmstripline, QWK_1H06YM

!ADCxx 
  MollerADC, 5, 0, bpmstripline, QWK_1H11XP
  MollerADC, 5, 1, bpmstripline, QWK_1H11XM
  MollerADC, 5, 2, bpmstripline, QWK_1H11YP
  MollerADC, 5, 3, bpmstripline, QWK_1H11YM
  MollerADC, 5, 4, bpmstripline, QWK_1H14XP
  MollerADC, 5, 5, bpmstripline, QWK_1H14XM
  MollerADC, 5, 6, bpmstripline, QWK_1H14YP
  MollerADC, 5, 7, bpmstripline, QWK_1H14YM

!MollerADC
  MollerADC, 6, 0,  bpmstripline,  QWK_0R06AXP
  MollerADC, 6, 1,  bpmstripline,  QWK_0R06AXM
  MollerADC, 6, 2,  bpmstripline,  QWK_0R06AYP
  MollerADC, 6, 3,  bpmstripline,  QWK_0R06AYM
  MollerADC, 6, 4,  bpmstripline,  QWK_0L06AXP
  MollerADC, 6, 5,  bpmstripline,  QWK_0L06AXM
  MollerADC, 6, 6,  bpmstripline,  QWK_0L06AYP
  MollerADC, 6, 7,  bpmstripline,  QWK_0L06AYM



!begin=combinedbpm
!name=bpm_target
!qwk_0r06, bpmstripline, 1.0, 1.0, 1.0
!qwk_0l06, bpmstripline, 1.0, 1.0, 1.0
!end=combinedbpm

begin=combinedbpm
name=bpm_target
qwk_1h04, bpmstripline, 1.0, 1.0, 1.0
qwk_1h05, bpmstripline, 1.0, 1.0, 1.0
qwk_1h06, bpmstripline, 1.0, 1.0, 1.0
qwk_1h11, bpmstripline, 1.0, 1.0, 1.0
qwk_1H14, bpmstripline, 1.0, 1.0, 1.0
end=combinedbpm

begin=combinedbcm
name=bcm_target
qwk_bcm0l00, bcm, 1.0
qwk_bcm0l01, bcm, 1.0
qwk_bcm0l02, bcm, 1.0
qwk_bcm0l03, bcm, 1.0
qwk_bcm0l04, bcm, 1.0
qwk_bcm0l05, bcm, 1.0
qwk_bcm0l06, bcm, 1.0
qwk_bcm0l07, bcm, 1.0
end=combinedbcm

begin=energycalculator
name=target_energy
!name          type            ratios     property  
 qwk_1c12,     bpmstripline,   0.00024,   beamposition 
 bpm_target,   combinedbpm,   -0.00017,   targetbeamposition          
 bpm_target,   combinedbpm,    2.6,       targetbeamangle
end=energycalculator


[PUBLISH]
 q_targ,   combobcm,     bcm_target,     c
 x_targ,   combobpm,     bpm_target,     x
 y_targ,   combobpm,     bpm_target,     y
 xp_targ,  combobpm,     bpm_target,     xp
 yp_targ,  combobpm,     bpm_target,     yp
 e_targ,   comboenergy,  target_energy,  e




!END
