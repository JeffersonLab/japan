#Caryn's macro
# Configuration file for the online GUI 
#  All lines containing "#" are treated as comments (ignored)
#  Last line MUST be blank.
#  Multiple spaces are treated as one space.
# To switch to log scale, add the option logy after the name of 
# the histogram 

# Uncomment the below line to monitor the fill of a ROOTfile.
watchfile
#protorootfile $QW_ROOTFILES/prexPrompt_pass2_XXXXX.000.root
#protorootfile $QW_ROOTFILES/prexALL_XXXXX.000.root


# Defined cuts
definecut nocut  Entry$>10
definecut evcut  ((Entries$-Entry$)<20000&&Entry$>10)
#definecut evcut  ((Entries$-Entry$)<2000000&&Entry$>10)&&ErrorFlag==0
definecut beamcut  ((Entries$-Entry$)<20000&&Entry$>10)&&bcm_an_us>140
definecut timecut  ((Entries$-Entry$)<20000&&Entry$>10)
definecut shortcut  ((Entries$-Entry$)<5010&&Entry$>10)
#definecut goodcut (Entry$>10)
#definecut goodevtcut ((Entries$-Entry$)<9000&&Entry$>10)
definecut goodcut (ErrorFlag==0&&Entry$>10)
definecut goodevtcut (ErrorFlag==0&&(Entries$-Entry$)<20000&&Entry$>10)
#definecut goodevtcut ((Entries$-Entry$)<20000&&Entry$>10)
definecut goodhel  (reported_helicity>=-1&&(Entries$-Entry$)<20000&&Entry$>10)
definecut bmwon (yield_bmwobj!=-1&&yield_bcm_an_us>130)
### column row

newpage 2 2
	title CRUCIAL SYSTEMS      
        usl:CodaEventNumber goodevtcut -type box -title "usl <- -> usr normalized yield"
        usr:CodaEventNumber goodevtcut -type box -title "Both should be ~= 0.032 V/uA"
        bpm12XP:CodaEventNumber evcut -type box -title "bpm12XP MUST be below 55,000!"
#        asym_usl/ppm/4+asym_dsl/ppm/4+asym_usr/ppm/4+asym_dsr/ppm/4 goodevtcut -tree mul -title "PREX Detector Sum Asymmetry(Mtree)"
        macro ./GetStats.C() 
#./.../ Total Pairs(no cuts) = , **OK pairs**= (%), Low Beam = (%), BeamBurp = (%), BPM saturated (%), Helicity Errors (%)	

newpage 2 2
	title CRUCIAL ASYMMETRIES
        macro ./regMulPlot.C("burst_lrb_std","us_avg")
        asym_bcm_an_us/ppm goodevtcut -tree mul -title "An US BCM->Should be <200ppm rms, <1ppm mean" 
        (asym_bcm_an_us-asym_bcm_an_ds)/sqrt(2)/ppm goodevtcut  -tree mul -title "BCM Double Diff->Should be ~15ppm rms"
        asym_hallc_bcm_4c/ppm ((asym_hallc_bcm_4c.Device_Error_Code==0)&&(Entries$-Entry$)<20000&&Entry$>10&&yield_hallc_bcm_4c>4) -tree mul -title "HallC BCM asym, should be <50ppm mean"
        #(asym_usl+asym_usr)/2/ppm goodevtcut  -tree mul -title "Average US Detector Asym"

#newpage 1 1 
#  title REGRESSION STABILITY
#    macro ./rmsCheck.C("burst_lrb_std",1900.0,1100.0,9000.0)
#
newpage 1 1 
  title REGRESSION STABILITY
    macro ./fullRMScheck.C("burst_lrb_std",1600.0,950.0,1100.0,780.0,9000.0)

newpage 1 1
  title SLOPE STABILITY
    macro ./longSlopeCheck.C("burst_lrb_std",100,-38,9000.0)
    #macro ./slopeCheck.C("burst_lrb_std",100,-38,9000.0)

newpage 2 2
  title LIVE REGRESSION HISTOGRAMS
    macro ./regMulPlot.C("burst_lrb_std","usl")
    macro ./regMulPlot.C("burst_lrb_std","usr")
    macro ./regMulPlot.C("burst_lrb_std","us_dd")
    macro ./regMulPlot.C("burst_lrb_std","us_avg")

#newpage 2 2
#  title LIVE REGRESSION HISTOGRAMS - 4aX
#    macro ./regMulPlot.C("burst_lrb_orig_std","usl")
#    macro ./regMulPlot.C("burst_lrb_orig_std","usr")
#    macro ./regMulPlot.C("burst_lrb_orig_std","us_dd")
#    macro ./regMulPlot.C("burst_lrb_orig_std","us_avg")

newpage 2 3
  title SYNC Check
        abs((lhrs_flexio_input&0x1)-reported_helicity):CodaEventNumber goodhel -type box -title "LHRS helicity check, must be zero!" -tree evt
        abs(((rhrs_flexio_input&0x40)==0)-(reported_helicity==1)):CodaEventNumber goodhel -type box -title "RHRS helicity check, must be zero!" -tree evt
        abs(((rhrs_flexio_input&0x20)==0)-(pattern_phase==1)):CodaEventNumber goodhel -type box -title "Injector sync check, must be zero!" -tree evt
        abs(((ch_flexio_input&0x20)==0x20)-(pattern_phase==1)):CodaEventNumber goodhel -type box -title "CH sync check, must be zero!" -tree evt
        macro ./SyncCheck.C() 

newpage 1 2
	title EVENT CUTS
        macro ./QualityAssurance/GetCountCutStats.C(0) 
        macro ./QualityAssurance/GetCountCutStats.C(20000)

newpage 2 3
	title StripChart Eventcut: Crucial BPMs vs Time
	  yield_bpm4aX:CodaEventNumber goodevtcut -type box -title "Live BPM4aX, eventwise" -tree mul
	  yield_bpm4aY:CodaEventNumber goodevtcut -type box -title "Live BPM4aY, eventwise" -tree mul
	  yield_bpm4eX:CodaEventNumber goodevtcut -type box -title "Live BPM4eX, eventwise" -tree mul
	  yield_bpm4eY:CodaEventNumber goodevtcut -type box -title "Live BPM4eY, eventwise" -tree mul
	  yield_bpm12X:CodaEventNumber goodevtcut -type box -title "Live BPM12X, eventwise" -tree mul
	  yield_bpm12Y:CodaEventNumber goodevtcut -type box -title "Live BPM12Y, eventwise" -tree mul

### column row
newpage 2 4
  title StripChart: BPM 4A and E wires
        bpm4aXP:CodaEventNumber evcut -tree evt -type box -title "4a X+(MUST be below 50k!)"
        bpm4eXP:CodaEventNumber evcut -tree evt -type box -title "4e X+(MUST be below 50k!)"
        bpm4aXM:CodaEventNumber evcut -tree evt -type box -title "4a X-(MUST be below 50k!)"
        bpm4eXM:CodaEventNumber evcut -tree evt -type box -title "4e X-(MUST be below 50k!)"
        bpm4aYP:CodaEventNumber evcut -tree evt -type box -title "4a Y+(MUST be below 50k!)"
        bpm4eYP:CodaEventNumber evcut -tree evt -type box -title "4e Y+(MUST be below 50k!)"
        bpm4aYM:CodaEventNumber evcut -tree evt -type box -title "4a Y-(MUST be below 50k!)"
        bpm4eYM:CodaEventNumber evcut -tree evt -type box -title "4e Y-(MUST be below 50k!)"

### column row
newpage 2 4
	title StripChart: BPM 1 and Ec wires
        bpm4ecXP:CodaEventNumber evcut -tree evt -type box -title "4ec X+(MUST be below 50k!)"
        bpm1XP:CodaEventNumber evcut -tree evt -type box -title "1 X+(MUST be below 50k!)"
        bpm4ecXM:CodaEventNumber evcut -tree evt -type box -title "4ec X-(MUST be below 50k!)"
        bpm1XM:CodaEventNumber evcut -tree evt -type box -title "1 X-(MUST be below 50k!)"
        bpm4ecYP:CodaEventNumber evcut -tree evt -type box -title "4ec Y+(MUST be below 50k!)"
        bpm1YP:CodaEventNumber evcut -tree evt -type box -title "1 Y+(MUST be below 50k!)"
        bpm4ecYM:CodaEventNumber evcut -tree evt -type box -title "4ec Y-(MUST be below 50k!)"
        bpm1YM:CodaEventNumber evcut -tree evt -type box -title "1 Y-(MUST be below 50k!)"


### column row
newpage 2 4
	title StripChart: BPM 11 and 12 wires
        bpm11XP:CodaEventNumber evcut -tree evt -type box -title "11 X+(MUST be below 50k!)"
        bpm12XP:CodaEventNumber evcut -tree evt -type box -title "12 X+(MUST be below 50k!)"
        bpm11XM:CodaEventNumber evcut -tree evt -type box -title "11 X-(MUST be below 50k!)"
        bpm12XM:CodaEventNumber evcut -tree evt -type box -title "12 X-(MUST be below 50k!)"
        bpm11YP:CodaEventNumber evcut -tree evt -type box -title "11 Y+(MUST be below 50k!)"
        bpm12YP:CodaEventNumber evcut -tree evt -type box -title "12 Y+(MUST be below 50k!)"
        bpm11YM:CodaEventNumber evcut -tree evt -type box -title "11 Y-(MUST be below 50k!)"
        bpm12YM:CodaEventNumber evcut -tree evt -type box -title "12 Y-(MUST be below 50k!)"

### column row
newpage 4 3
	title EventCut: BPM 16, 12, 11 Diffs
  diff_bpm16X/um                  goodevtcut -tree mul -title "diff_bpm16X"
  diff_bpm16X/um:CodaEventNumber  goodevtcut -tree mul -title "diff_bpm16X"
	diff_bpm16Y/um                  goodevtcut -tree mul -title "diff_bpm16Y"
	diff_bpm16Y/um:CodaEventNumber  goodevtcut -tree mul -title "diff_bpm16Y"
	diff_bpm12X/um                  goodevtcut -tree mul -title "diff_bpm12X"
	diff_bpm12X/um:CodaEventNumber  goodevtcut -tree mul -title "diff_bpm12X"
	diff_bpm12Y/um                  goodevtcut -tree mul -title "diff_bpm12Y"
	diff_bpm12Y/um:CodaEventNumber  goodevtcut -tree mul -title "diff_bpm12Y"
	diff_bpm11X/um                  goodevtcut -tree mul -title "diff_bpm11X"
	diff_bpm11X/um:CodaEventNumber  goodevtcut -tree mul -title "diff_bpm11X"
	diff_bpm11Y/um                  goodevtcut -tree mul -title "diff_bpm11Y"
	diff_bpm11Y/um:CodaEventNumber  goodevtcut -tree mul -title "diff_bpm11Y"

newpage 2 4
  title EventCut: BPM 4a, 4e Diffs
  diff_bpm4aX/um  goodevtcut -tree mul -title "diff_bpm4aX"
  diff_bpm4aY/um  goodevtcut -tree mul -title "diff_bpm4aY"
  diff_bpm4eX/um goodevtcut -tree mul -title "diff_bpm4eX"
  diff_bpm4eY/um goodevtcut -tree mul -title "diff_bpm4eY"
  diff_bpm4acX/um  goodevtcut -tree mul -title "diff_bpm4acX"
  diff_bpm4acY/um  goodevtcut -tree mul -title "diff_bpm4acY"
  diff_bpm4ecX/um goodevtcut -tree mul -title "diff_bpm4ecX"
  diff_bpm4ecY/um goodevtcut -tree mul -title "diff_bpm4ecY"

newpage 4 4
	title Cavities
	yield_cav4bX:CodaEventNumber goodevtcut -tree mul -title "yield cav4bX"
  diff_cav4bX/um:CodaEventNumber goodevtcut -tree mul -title "diff cav4bX"
	yield_cav4bY:CodaEventNumber goodevtcut -tree mul -title "yield cav4bX"
  diff_cav4bY/um:CodaEventNumber goodevtcut -tree mul -title "diff cav4bX"
	yield_cav4cX:CodaEventNumber goodevtcut -tree mul -title "yield cav4cX"
  diff_cav4cX/um:CodaEventNumber goodevtcut -tree mul -title "diff cav4cX"
	yield_cav4cY:CodaEventNumber goodevtcut -tree mul -title "yield cav4cX"
  diff_cav4cY/um:CodaEventNumber goodevtcut -tree mul -title "diff cav4cX"
	yield_cav4dX:CodaEventNumber goodevtcut -tree mul -title "yield cav4dX"
  diff_cav4dX/um:CodaEventNumber goodevtcut -tree mul -title "diff cav4dX"
	yield_cav4dY:CodaEventNumber goodevtcut -tree mul -title "yield cav4dX"
  diff_cav4dY/um:CodaEventNumber goodevtcut -tree mul -title "diff cav4dX"
	yield_cav4bQ:CodaEventNumber goodevtcut -tree mul -title "yield cav4bQ"
  yield_cav4cQ:CodaEventNumber goodevtcut -tree mul -title "yield cav4cQ"
	yield_cav4dQ:CodaEventNumber goodevtcut -tree mul -title "yield cav4dQ"
  asym_cav4cQ/ppm:CodaEventNumber goodevtcut -tree mul -title "asym cav4cQ"

#newpage 1 3
#	title BPM Diff Correlations
#        diff_bpm12X:diff_bpm11X evcut -type prof -tree mul
#        diff_bpm12X:diff_bpm11Y evcut -type prof -tree mul
#        diff_bpm12Y:diff_bpm11Y evcut -type prof -tree mul

newpage 1 1
  title BPM Diff Correlations
    macro ./correlationCheck.C()

### column row
newpage 4 3
	title EventCut: Hall BCM Yields, Asyms
        yield_bcm_an_us:CodaEventNumber goodevtcut -tree mul -type box -title "Analog Upstream BCM Yield"
        asym_bcm_an_us/ppm goodevtcut -tree mul -title "Asym of Analog Upstream BCM"
        yield_bcm_dg_ds:CodaEventNumber goodevtcut -tree mul -type box -title "Analog Downstream BCM" 
        asym_bcm_dg_ds/ppm goodevtcut -tree mul -title "Asym of Analog Downstream BCM"
        yield_bcm_dg_ds:CodaEventNumber goodevtcut -tree mul -type box -title "Analog Downstream BCM 3X"
        asym_bcm_dg_ds/ppm goodevtcut -tree mul -title "Asym of Analog Downstream BCM 3X"
        yield_bcm_dg_us:CodaEventNumber goodevtcut -tree mul -type box -title "Digital Upstream BCM Yield"
        asym_bcm_dg_us/ppm goodevtcut -tree mul -title "Asym of Digital Upstream BCM"
        yield_bcm_dg_ds:CodaEventNumber goodevtcut -tree mul -type box -title "Digital Downstream BCM" 
        asym_bcm_dg_ds/ppm goodevtcut -tree mul -title "Asym of Digital Downstream BCM"
        yield_cav4cQ.hw_sum_raw*76.293e-6/yield_cav4cQ.num_samples:CodaEventNumber goodevtcut -tree mul -type box -title "cav4cQ" 
        asym_cav4cQ/ppm goodevtcut -tree mul -title "Asym of cav4cQ"


newpage 3 3
  title InjectorCut: X pos Injector BPM Diffs
  diff_bpm0i02X/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm0i02X.Device_Error_Code==0&&yield_bpm0i02X.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0i02 X diffs"
  diff_bpm0i05X/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm0i05X.Device_Error_Code==0&&yield_bpm0i05X.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0i05 X diffs"
  diff_bpm0l02X/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm0l02X.Device_Error_Code==0&&yield_bpm0l02X.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0l02 X diffs"
  diff_bpm0i07X/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm0i07X.Device_Error_Code==0&&yield_bpm0i07X.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0i07 X diffs"
  diff_bpm1i02X/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm1i02X.Device_Error_Code==0&&yield_bpm0i02X.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 1i02 X diffs"
  diff_bpm2i02X/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm2i02X.Device_Error_Code==0&&yield_bpm0i02X.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 2i02 X diffs"
  diff_bpm0l03X/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm0l03X.Device_Error_Code==0&&yield_bpm0l03X.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0l03 X diffs"
  diff_bpm0r04X/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm0r04X.Device_Error_Code==0&&yield_bpm0r04X.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0r04 X diffs"
  diff_bpm0r05X/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm0r05X.Device_Error_Code==0&&yield_bpm0r05X.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0r05 X diffs"

newpage 3 3
  title InjectorCut: Y pos Injector BPM Diffs
  diff_bpm0i02Y/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm0i02Y.Device_Error_Code==0&&yield_bpm0i02Y.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0i02 Y diffs"
  diff_bpm0i05Y/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm0i05Y.Device_Error_Code==0&&yield_bpm0i02Y.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0i05 Y diffs"
  diff_bpm0l02Y/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm0l02Y.Device_Error_Code==0&&yield_bpm0i02Y.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0l02 Y diffs"
  diff_bpm0i07Y/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm0i07Y.Device_Error_Code==0&&yield_bpm0i07Y.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0i07 Y diffs"
  diff_bpm1i02Y/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm1i02Y.Device_Error_Code==0&&yield_bpm0i02Y.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 1i02 Y diffs"
  diff_bpm2i02Y/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm2i02Y.Device_Error_Code==0&&yield_bpm0i02Y.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 2i02 Y diffs"
  diff_bpm0l03Y/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm0l03Y.Device_Error_Code==0&&yield_bpm0l03Y.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0l03 Y diffs"
  diff_bpm0r04Y/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm0r04Y.Device_Error_Code==0&&yield_bpm0r04Y.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0r04 Y diffs"
  diff_bpm0r05Y/um yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&diff_bpm0r05Y.Device_Error_Code==0&&yield_bpm0i02Y.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0r05 Y diffs"

### column row
#newpage 2 3
#	title Injector BPM Diffs
#	diff_bpm2i02X/um goodevtcut -tree mul -title diff_2i01X
#	diff_bpm2i02Y/um goodevtcut -tree mul -title diff_2i01Y
#	diff_bpm0l02X/um goodevtcut -tree mul -title diff_0l02X
#	diff_bpm0l02Y/um goodevtcut -tree mul -title diff_0l02Y
#	diff_bpm0r05X/um goodevtcut -tree mul -title diff_0r05X
#	diff_bpm0r05Y/um goodevtcut -tree mul -title diff_0r05Y

#newpage 4 2
#  title EventCut: All digital BCM yields and asymmetries
#  bcm_dg_us:CodaEventNumber goodcut -tree evt
#  bcm_dg_usc:CodaEventNumber goodcut -tree evt
#  bcm_dg_ds:CodaEventNumber goodcut -tree evt
#  bcm_dg_dsc:CodaEventNumber goodcut -tree evt
#  asym_bcm_dg_us:CodaEventNumber goodcut -tree mul
#  asym_bcm_dg_usc:CodaEventNumber goodcut -tree mul
#  asym_bcm_dg_ds:CodaEventNumber goodcut -tree mul
#  asym_bcm_dg_dsc:CodaEventNumber goodcut -tree mul

### column row
#newpage 3 2
#	title Cavity BCMS and BPMS
#        cav4cQ:CodaEventNumber evcut -tree evt -type box -title "CAV4C Q"
#        cav4cX:CodaEventNumber evcut -tree evt -type box -title "CAV4C X"
#        cav4cY:CodaEventNumber evcut -tree evt -type box -title "CAV4C Y"
#        bcm_dg_ds:CodaEventNumber evcut -tree evt -type box -title "Digital BCM DS"
#	bpm4eX:CodaEventNumber evcut -tree evt -type box -title "BPM4e X"
#	bpm4eY:CodaEventNumber evcut -tree evt -type box -title "BPM4e Y"
### column row
newpage 4 3 
 title InjectorCut: Injector Charge Asymmetries
  asym_bcm0l02/ppm  yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector BCM" 
  asym_bcm_an_us/ppm  yield_bcm_an_us>50&&yield_bcm_an_us.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Analog US"
  asym_bcm_dg_us/ppm  yield_bcm_dg_us>50&&yield_bcm_dg_us.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Analog DS"
  (asym_bcm_an_us-asym_bcm_an_ds)/(2*ppm) yield_bcm_an_us>50&&yield_bcm_an_us.Device_Error_Code==0&&yield_bcm_an_ds>50&&yield_bcm_an_ds.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "AN DD"

  asym_bpm0i02WS/ppm  yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&yield_bpm0i02WS.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0i02 Aq"
  asym_bpm1i02WS/ppm  yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&yield_bpm1i02WS.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 1i02 Aq"
  asym_bpm2i02WS/ppm  yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&yield_bpm2i02WS.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 2i02 Aq"
  asym_bpm1i06WS/ppm  yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&yield_bpm1i06WS.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 1i06 Aq"
  asym_bpm0l03WS/ppm  yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&yield_bpm0l03WS.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0l03 Aq"
  asym_bpm0i05WS/ppm  yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&yield_bpm0i05WS.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0i05 Aq"
  asym_bpm0r04WS/ppm  yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&yield_bpm0r04WS.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0r04 Aq"
  asym_bpm0r05WS/ppm  yield_bcm0l02>50&&yield_bcm0l02.Device_Error_Code==0&&yield_bpm0r05WS.Device_Error_Code==0&&(Entries$-Entry$)<5000&&(Entries$-Entry$)>10 -tree mul -title "Injector 0r05 Aq"

#newpage 2 2
#	title Quick Aq double peak monitoring
#       asym_bpm0i02aWS/ppm   shortcut -tree mul -title "Injector BPM0i02a Asym" 	
#        asym_bpm0i05WS/ppm    shortcut -tree mul -title "Injector BPM0i05 Asym" 
#       asym_bpm0i02aWS/ppm:CodaEventNumber   shortcut -tree mul -title "Injector BPM0i02a Asym" 	
#        asym_bpm0i05WS/ppm:CodaEventNumber    shortcut -tree mul -title "Injector BPM0i05 Asym" 

newpage 2 2
  title Diagnostic BCM Aq
  asym_bcm_an_us/ppm  goodevtcut -tree mul -title "Analog US BCM Asym" 
  asym_bcm0l02/ppm    goodevtcut -tree mul -title "Injector BCM Asym" 
  asym_hallc_bcm_4c/ppm yield_hallc_bcm_4c>20&&yield_hallc_bcm_4c.Device_Error_Code==0&&ErrorFlag==0 -tree mul -title "Hall C BCM Asym"
  yield_bcm0l02:(yield_bcm_an_us+yield_hallc_bcm_4c) goodevtcut -tree mul -title "Correlation of CH A+C BCM to 0L02"

newpage 2 3
	title Diagnostic BCM Aq vs Time
  (asym_bcm_an_us/ppm-asym_bcm_an_ds/ppm)/sqrt(2):CodaEventNumber  goodevtcut -tree mul -title "Analog DD noise floor -> ~15ppm is good" 
  asym_bcm_an_us/ppm:CodaEventNumber  goodevtcut -tree mul -title "Analog Upstream BCM Asym" 
  asym_bcm_an_ds/ppm:CodaEventNumber  goodevtcut -tree mul -title "Analog Downstream BCM Asym" 
	asym_bcm_dg_ds/ppm:CodaEventNumber  goodevtcut -tree mul -title "Digital Downstream BCM Asym" 
	asym_bcm0l02/ppm:CodaEventNumber    goodevtcut -tree mul -title "Injector BCM Asym" 
	asym_bpm1i02WS/ppm:CodaEventNumber goodevtcut -tree mul -title "Inj BPM1i02"

# newpage 3 3
# 	title NEW Diagnostic Aq vs Time
#   (asym_bcm_an_us/ppm-asym_bcm_an_ds/ppm)/sqrt(2):CodaEventNumber  goodevtcut -tree mul -title "Analog DD noise floor -> ~15ppm is good" 
#   asym_bcm_an_us/ppm:CodaEventNumber  goodevtcut -tree mul -title "Analog Upstream BCM Asym" 
# 	asym_bcm0l02/ppm:CodaEventNumber    goodevtcut -tree mul -title "Injector BCM Asym" 
# asym_bpm0i02WS/ppm:CodaEventNumber goodevtcut -tree mul -title "Inj BPM0i02"
# asym_bpm1i02WS/ppm:CodaEventNumber goodevtcut -tree mul -title "Inj BPM1i02"
# asym_bpm2i02WS/ppm:CodaEventNumber goodevtcut -tree mul -title "Inj BPM2i02"
# asym_bpm2i01WS/ppm:CodaEventNumber goodevtcut -tree mul -title "Inj BPM2i01"
# asym_bpm1i01WS/ppm:CodaEventNumber goodevtcut -tree mul -title "Inj BPM1i01"
# asym_bpm0i01WS/ppm:CodaEventNumber goodevtcut -tree mul -title "Inj BPM0i01"

newpage 3 4 
	title Diagnostic BCM Aq DDs 
	(asym_bcm_an_us/ppm-asym_bcm_an_ds/ppm)/2  goodevtcut -tree mul -title "Analog US - Analog DS DD" 
	(asym_bcm_dg_us/ppm-asym_bcm_dg_ds/ppm)/2  goodevtcut -tree mul -title "Digital US - Digital DS DD" 
	(asym_bcm_an_us/ppm-asym_bcm_dg_us/ppm)/2  goodevtcut -tree mul -title "Analog US - Digital US DD"
	(asym_bcm_an_ds/ppm-asym_bcm_dg_ds/ppm)/2  goodevtcut -tree mul -title "Analog DS - Digital DS  DD"
	(asym_bcm_an_us/ppm-asym_bcm_dg_ds/ppm)/2  goodevtcut -tree mul -title "Analog US- Digital DS DD"
	(asym_bcm_dg_us/ppm-asym_bcm_an_ds/ppm)/2  goodevtcut -tree mul -title "Digital US- Analog DS DD"
  (asym_bcm_an_us/ppm-asym_bcm_an_ds/ppm)/2:CodaEventNumber  goodevtcut -tree mul -title "Analog US - Analog DS DD"
	(asym_bcm_dg_us/ppm-asym_bcm_dg_ds/ppm)/2:CodaEventNumber  goodevtcut -tree mul -title  "Digital US - Digital DS DD"
 	(asym_bcm_an_us/ppm-asym_bcm_dg_us/ppm)/2:CodaEventNumber  goodevtcut -tree mul -title  "Analog US - Digital US DD"
	(asym_bcm_an_ds/ppm-asym_bcm_dg_ds/ppm)/2:CodaEventNumber  goodevtcut -tree mul -title "Analog DS - Digital DS  DD"
	(asym_bcm_an_us/ppm-asym_bcm_dg_ds/ppm)/2:CodaEventNumber  goodevtcut -tree mul -title "Analog US- Digital DS DD"
	(asym_bcm_dg_us/ppm-asym_bcm_an_ds/ppm)/2:CodaEventNumber  goodevtcut -tree mul -title "Digital US- Analog DS DD"

### column row
# newpage 1 2
# 	title BCM Unser
#         unser:CodaEventNumber evcut -type box -title "BCM Unser"
#         unser evcut -type box -title "BCM Unser"

#newpage 2 2
#	title BPM vs BCM
#     bpm12XP:bcm_dg_ds evcut -type box -tree evt
#     bpm12XM:bcm_dg_ds evcut -type box -tree evt
#     bpm12YP:bcm_dg_ds evcut -type box -tree evt
#     bpm12YM:bcm_dg_ds evcut -type box -tree evt

# ### column row
# newpage 2 4
#  title Main Detectors Yields 
#        yield_usl:CodaEventNumber evcut -type box -title "Main Detector Upstream LHRS vs Event" -tree mul
#        yield_usl evcut -title "Main Detector Upstream LHRS" -tree mul
#        yield_dsl:CodaEventNumber evcut -type box -title "Main Detector Downstram LHRS vs Event" -tree mul
#        yield_dsl evcut -title "Main Detector Downstream LHRS" -tree mul
#        yield_usr:CodaEventNumber evcut -type box -title "Main Detector Upstream RHRS vs Event" -tree mul
#        yield_usr evcut -title "Main Detector Upstream RHRS" -tree mul
#        yield_dsr:CodaEventNumber evcut -type box -title "Main Detector Downstram RHRS vs Event" -tree mul
#        yield_dsr evcut -title "Main Detector Downstream RHRS" -tree mul

newpage 2 2
  title EventCut: Main Detectors Asymmetries
        asym_usl/ppm goodevtcut -tree mul -title "Asym: Quartz Upstream Left"
        asym_usr/ppm goodevtcut -tree mul -title "Asym: Quartz Upstream Right"
        asym_dsl/ppm goodevtcut -tree mul -title "Asym: Quartz DS Left -> Unplugged Signal"
        asym_dsr/ppm goodevtcut -tree mul -title "Asym: Quartz DS Right -> Unplugged Signal"

# ### column row
#newpage 2 4
# title Main Detectors Asym
#       asym_usl/ppm:CodaEventNumber evcut -type box -title "Asym Main Detector Upstream LHRS vs Event" -tree mul
#       asym_usl/ppm evcut -title "Main Detector Upstream LHRS" -tree mul
#       asym_dsl/ppm:CodaEventNumber evcut -type box -title "Asym Main Detector Downstram LHRS vs Event" -tree mul
#       asym_dsl/ppm evcut -title "Main Detector Downstream LHRS" -tree mul
#       asym_usr/ppm:CodaEventNumber evcut -type box -title "Asym Main Detector Upstream RHRS vs Event" -tree mul
#       asym_usr/ppm evcut -title "Main Detector Upstream RHRS" -tree mul
#       asym_dsr/ppm:CodaEventNumber evcut -type box -title "Asym Main Detector Downstram RHRS vs Event" -tree mul
#       asym_dsr/ppm evcut -title "Main Detector Downstream RHRS" -tree mul

#newpage 2 4
#	title Main Detectors vs. BPM asymmetry correlations
#        asym_usr/ppm:diff_bpm4eX goodevtcut -type prof -title "Main Detector Upstream RHRS vs BPM4EX" -tree mul
#        asym_usr/ppm:diff_bpm4eY goodevtcut -type prof -title "Main Detector Upstream RHRS vs BPM4EY" -tree mul
#        asym_dsr/ppm:diff_bpm4eX goodevtcut -type prof -title "Main Detector Downstream RHRS vs BPM4EX" -tree mul
#        asym_dsr/ppm:diff_bpm4eY goodevtcut -type prof -title "Main Detector Downstream RHRS vs BPM4EY" -tree mul
#        asym_usl/ppm:diff_bpm4eX goodevtcut -type prof -title "Main Detector Upstream LHRS vs BPM4EX" -tree mul
#        asym_usl/ppm:diff_bpm4eY goodevtcut -type prof -title "Main Detector Upstream LHRS vs BPM4EY" -tree mul
#        asym_dsl/ppm:diff_bpm4eX goodevtcut -type prof -title "Main Detector Downstream LHRS vs BPM4EX" -tree mul
#        asym_dsl/ppm:diff_bpm4eY goodevtcut -type prof -title "Main Detector Downstream LHRS vs BPM4EY" -tree mul

#newpage 2 2
#  title EventCut: Main Detectors vs BCM Asymmetry Correlations
#        asym_usl/ppm:asym_bcm_dg_ds/ppm goodevtcut -type prof -tree mul -title "Asym Correlation US Left vs BCM"
#        asym_dsl/ppm:asym_bcm_dg_ds/ppm goodevtcut -type prof -tree mul -title "Asym Correlation US Right vs BCM"
#        asym_usl/ppm:asym_bcm_dg_ds/ppm goodevtcut -type prof -tree mul -title "Asym Correlation DS Left vs BCM"
#        asym_dsl/ppm:asym_bcm_dg_ds/ppm goodevtcut -type prof -tree mul -title "Asym Correlation DS Right vs BCM"

#newpage 2 2
#  title Main Detectors vs BCM Asymmetry Correlations
#        asym_usl/ppm:asym_bcm_dg_ds/ppm evcut -type prof -tree mul
#        asym_dsl/ppm:asym_bcm_dg_ds/ppm evcut -type prof -tree mul
#        asym_usl/ppm:asym_bcm_dg_ds/ppm evcut -type prof -tree mul
#        asym_dsl/ppm:asym_bcm_dg_ds/ppm evcut -type prof -tree mul

newpage 2 2
  title EventCut: Main Detectors L v R Asymmetry
        asym_usl/ppm:asym_usr/ppm goodevtcut -type scatt -tree mul -title "Asym Correlation: US Left vs US Right"
        asym_dsl/ppm:asym_dsr/ppm goodevtcut -type scatt -tree mul -title "Asym Correlation: DS Left vs DS Right -> Unplugged detectors"
        (asym_usr+asym_usl)/(2*ppm) goodevtcut -title "MainDet US Avg - RMS should be < 1300ppm" -tree mul
        (asym_usr-asym_usl)/(2*ppm) goodevtcut -title "MainDet US DD - RMS should be < 1300ppm" -tree mul
#        asym_usl/ppm:asym_dsr/ppm goodevtcut -type scatt -tree mul -title "Asym Correlation: US Left vs DS Right"
#        asym_dsl/ppm:asym_usr/ppm goodevtcut -type scatt -tree mul -title "Asym Correlation: DS Left vs US Right"

#newpage 2 3
#	title dets combo MD Asym Correlations
#     asym_usl/ppm:asym_dsl/ppm goodevtcut -title "Left Det Sum usl:dsl" -tree mul
#     asym_usr/ppm:asym_dsr/ppm goodevtcut -title "Right Det Sum usr:dsr" -tree mul
#     asym_usr/ppm:asym_usl/ppm goodevtcut -title "Up Det Sum usr:usl" -tree mul
#     asym_dsr/ppm:asym_dsl/ppm goodevtcut -title "Down Det Sum dsr:dsl" -tree mul
#     asym_usr/ppm+asym_dsr/ppm:asym_usl/ppm+asym_dsl/ppm goodevtcut -title "Det Sum usr+dsr+usl+dsl" -tree mul

#newpage 2 2
#	title Dets Combo MD Asyms
#     asym_usl/ppm+asym_dsl/ppm goodevtcut -title "Left Det Sum usl+dsl" -tree mul
#     asym_usr/ppm+asym_dsr/ppm goodevtcut -title "Right Det Sum usr+dsr" -tree mul
#     asym_usr/ppm+asym_usl/ppm goodevtcut -title "Up Det Sum usr+usl" -tree mul
#     asym_dsr/ppm+asym_dsl/ppm goodevtcut -title "Down Det Sum dsr+dsl" -tree mul

### column row

newpage 2 2
  title StripChart: Normalized Main Dets vs Time
  usl evcut -type box -title "Main Detector Upstream LHRS" -tree evt
  usr evcut -type box -title "Main Detector Upstream RHRS" -tree evt
  usl:CodaEventNumber evcut -type box -title "Main Detector Upstream LHRS vs Event" -tree evt
  usr:CodaEventNumber evcut -type box -title "Main Detector Upstream RHRS vs Event" -tree evt

newpage 2 2
  title StripChart: Raw Voltage Main Dets vs Time
  usl.hw_sum_raw*76.293e-6/dsl.num_samples evcut -title "Main Detector Upstream LHRS" -tree evt
  usr.hw_sum_raw*76.293e-6/usr.num_samples evcut -title "Main Detector Upstream RHRS" -tree evt
	usl.hw_sum_raw*76.293e-6/dsl.num_samples:CodaEventNumber evcut -type box -title "Main Detector Upstream LHRS vs Event" -tree evt
	usr.hw_sum_raw*76.293e-6/usr.num_samples:CodaEventNumber evcut -type box -title "Main Detector Upstream RHRS vs Event" -tree evt

newpage 2 2
  title StripChart: Raw Voltage AT Dets vs Time
	atl1.hw_sum_raw*76.293e-6/atl1.num_samples:CodaEventNumber evcut -type box -title "AT Detector IN LHRS vs Event" -tree evt
	atr1.hw_sum_raw*76.293e-6/atr1.num_samples:CodaEventNumber evcut -type box -title "AT Detector IN RHRS vs Event" -tree evt
	atl2.hw_sum_raw*76.293e-6/atl2.num_samples:CodaEventNumber evcut -type box -title "AT Detector OUT LHRS vs Event" -tree evt
	atr2.hw_sum_raw*76.293e-6/atr2.num_samples:CodaEventNumber evcut -type box -title "AT Detector OUT RHRS vs Event" -tree evt

#newpage 2 1
#	title All Quartz Up vs Down
#        asym_usl/ppm:asym_dsl/ppm goodevtcut -tree mul -title "Asym US Left vs Asym DS Left"
#        asym_usr/ppm:asym_dsr/ppm goodevtcut -tree mul -title "Asym US Right vs Asym DS Right"

#newpage 3 4
#  title EventCut: Green monster scans
#    sam1.hw_sum:Entry$ bcm_an_us>8&&cleandata==1 -title "SAM1" -tree evt -type -box
#    sam5.hw_sum:Entry$ bcm_an_us>8&&cleandata==1 -title "SAM5" -tree evt -type -box
#    bpm4eX.hw_sum:Entry$ bcm_an_us>8&&cleandata==1 -title "BPM 4eX" -tree evt -type -box
#    sam2.hw_sum:Entry$ bcm_an_us>8&&cleandata==1 -title "SAM2" -tree evt -type -box
#    sam6.hw_sum:Entry$ bcm_an_us>8&&cleandata==1 -title "SAM6" -tree evt -type -box
#    bpm4eY.hw_sum:Entry$ bcm_an_us>8&&cleandata==1 -title "BPM 4eY" -tree evt -type -box
#    sam3.hw_sum:Entry$ bcm_an_us>8&&cleandata==1 -title "SAM3" -tree evt -type -box
#    sam7.hw_sum:Entry$ bcm_an_us>8&&cleandata==1 -title "SAM7" -tree evt -type -box
#    bcm_an_us.hw_sum:Entry$ cleandata==1 -title "BCM An US" -tree evt -type -box
#    sam4.hw_sum:Entry$ bcm_an_us>8&&cleandata==1 -title "SAM4" -tree evt -type -box
#    sam8.hw_sum:Entry$ bcm_an_us>8&&cleandata==1 -title "SAM8" -tree evt -type -box
#    scandata1:Entry$ bcm_an_us>8&&cleandata==1 -title "ScanData1, clean" -tree evt -type box

newpage 2 4
  title EventCut: SAMs Voltages vs Time
    sam1.hw_sum_raw*76.293e-6/sam1.num_samples:Entry$ evcut -title "SAM1" -tree evt -type -l
    sam5.hw_sum_raw*76.293e-6/sam5.num_samples:Entry$ evcut -title "SAM5" -tree evt -type -l
    sam2.hw_sum_raw*76.293e-6/sam2.num_samples:Entry$ evcut -title "SAM2" -tree evt -type -l
    sam6.hw_sum_raw*76.293e-6/sam6.num_samples:Entry$ evcut -title "SAM6" -tree evt -type -l
    sam3.hw_sum_raw*76.293e-6/sam3.num_samples:Entry$ evcut -title "SAM3" -tree evt -type -l
    sam7.hw_sum_raw*76.293e-6/sam7.num_samples:Entry$ evcut -title "SAM7" -tree evt -type -l
    sam4.hw_sum_raw*76.293e-6/sam4.num_samples:Entry$ evcut -title "SAM4" -tree evt -type -l
    sam8.hw_sum_raw*76.293e-6/sam8.num_samples:Entry$ evcut -title "SAM8" -tree evt -type -l

newpage 3 3
  title EventCut: SAMs Voltages Around
    sam8.hw_sum_raw*76.293e-6/sam8.num_samples goodevtcut -title "SAM8" -tree evt
    sam1.hw_sum_raw*76.293e-6/sam1.num_samples goodevtcut -title "SAM1" -tree evt
    sam2.hw_sum_raw*76.293e-6/sam2.num_samples goodevtcut -title "SAM2" -tree evt
    sam7.hw_sum_raw*76.293e-6/sam7.num_samples goodevtcut -title "SAM7" -tree evt
  	macro ./SAMsCircle.C()
    sam3.hw_sum_raw*76.293e-6/sam3.num_samples goodevtcut -title "SAM3" -tree evt
    sam6.hw_sum_raw*76.293e-6/sam6.num_samples goodevtcut -title "SAM6" -tree evt
    sam5.hw_sum_raw*76.293e-6/sam5.num_samples goodevtcut -title "SAM5" -tree evt
    sam4.hw_sum_raw*76.293e-6/sam4.num_samples goodevtcut -title "SAM4" -tree evt

newpage 3 3
  title EventCut: SAMs Asyms Around
    asym_sam8/ppm goodevtcut -title "SAM8" -tree mul
    asym_sam1/ppm goodevtcut -title "SAM1" -tree mul
    asym_sam2/ppm goodevtcut -title "SAM2" -tree mul
    asym_sam7/ppm goodevtcut -title "SAM7" -tree mul
  	macro ./SAMsCircle.C()
    asym_sam3/ppm goodevtcut -title "SAM3" -tree mul
    asym_sam6/ppm goodevtcut -title "SAM6" -tree mul
    asym_sam5/ppm goodevtcut -title "SAM5" -tree mul
    asym_sam4/ppm goodevtcut -title "SAM4" -tree mul

newpage 3 3
	title EventCut: SAMs Asyms vs Aq Around
	  asym_sam8/ppm:asym_bcm_an_us/ppm goodevtcut -title "SAM8" -tree mul -type box
  	asym_sam1/ppm:asym_bcm_an_us/ppm goodevtcut -title "SAM1" -tree mul -type box
   	asym_sam2/ppm:asym_bcm_an_us/ppm goodevtcut -title "SAM2" -tree mul -type box
  	asym_sam7/ppm:asym_bcm_an_us/ppm goodevtcut -title "SAM7" -tree mul -type box
  	macro ./SAMsCircle.C()
  	asym_sam3/ppm:asym_bcm_an_us/ppm goodevtcut -title "SAM3" -tree mul -type box
  	asym_sam6/ppm:asym_bcm_an_us/ppm goodevtcut -title "SAM6" -tree mul -type box
  	asym_sam5/ppm:asym_bcm_an_us/ppm goodevtcut -title "SAM5" -tree mul -type box
  	asym_sam4/ppm:asym_bcm_an_us/ppm goodevtcut -title "SAM4" -tree mul -type box

# newpage 4 2
# 	title SAM vs BCM
#      sam1:bcm_an_us evcut -type box -tree evt
#      sam2:bcm_an_us evcut -type box -tree evt
#      sam3:bcm_an_us evcut -type box -tree evt
#      sam4:bcm_an_us evcut -type box -tree evt
#      sam5:bcm_an_us evcut -type box -tree evt
#      sam6:bcm_an_us evcut -type box -tree evt
#      sam7:bcm_an_us evcut -type box -tree evt
#      sam8:bcm_an_us evcut -type box -tree evt

#### column row
#newpage 3 3
#  title Combined SAMs vs. Combined Position - Asyms
#    asym_sam3/ppm/2+asym_sam7/ppm/2 shortcut -title "Asym SAM (3+7)/2 (ppm)" -tree mul
#    asym_sam1/ppm/2+asym_sam5/ppm/2 shortcut -title "Asym SAM (1+5)/2 (ppm)" -tree mul
#    asym_sam1/ppm/8+asym_sam2/ppm/8+asym_sam3/ppm/8+asym_sam4/ppm/8+asym_sam5/ppm/8+asym_sam6/ppm/8+asym_sam7/ppm/8+asym_sam8/ppm/8 shortcut -title "Asym SAM (1+2+3+4+5+6+7+8)/8 (ppm)" -tree mul
#    asym_sam2/ppm/6+asym_sam3/ppm/6+asym_sam4/ppm/6-asym_sam6/ppm/6-asym_sam7/ppm/6-asym_sam8/ppm/6 shortcut -title "Asym SAM (2+3+4-6-7-8)/6 (ppm)" -tree mul
#    asym_sam8/ppm/6+asym_sam1/ppm/6+asym_sam2/ppm/6-asym_sam4/ppm/6-asym_sam5/ppm/6-asym_sam6/ppm/6 shortcut -title "Asym SAM (8+1+2-4-5-6)/6 (ppm)" -tree mul
#    asym_sam1/ppm/6+asym_sam2/ppm/6+asym_sam3/ppm/6-asym_sam5/ppm/6-asym_sam6/ppm/6-asym_sam7/ppm/6 shortcut -title "Asym SAM (1+2+3-5-6-7)/6 (ppm)" -tree mul
#    asym_sam3/ppm/6+asym_sam4/ppm/6+asym_sam5/ppm/6-asym_sam7/ppm/6-asym_sam8/ppm/6-asym_sam1/ppm/6 shortcut -title "Asym SAM (3+4+5-7-8-1)/6 (ppm)" -tree mul
#    asym_sam3/ppm/4+asym_sam7/ppm/4-asym_sam1/ppm/4-asym_sam5/ppm/4 shortcut -title "Asym SAM (3+7-1-5)/4 (ppm)" -tree mul
#    asym_sam2/ppm/4+asym_sam6/ppm/4-asym_sam4/ppm/4-asym_sam8/ppm/4 goodevtcut -title "Asym SAM (2+6-4-8)/4 (ppm)" -tree mul

### column row
#newpage 3 3
#	title EventCut: Combined SAMs vs. Combined Position - Asyms
#	asym_sam3/ppm/2+asym_sam7/ppm/2 goodevtcut -title "Asym SAM (3+7)/2 (ppm)" -tree mul
#	asym_sam1/ppm/2+asym_sam5/ppm/2 goodevtcut -title "Asym SAM (1+5)/2 (ppm)" -tree mul
#	asym_sam1/ppm/8+asym_sam2/ppm/8+asym_sam3/ppm/8+asym_sam4/ppm/8+asym_sam5/ppm/8+asym_sam6/ppm/8+asym_sam7/ppm/8+asym_sam8/ppm/8 goodevtcut -title "Asym SAM (1+2+3+4+5+6+7+8)/8 (ppm)" -tree mul
#	asym_sam2/ppm/6+asym_sam3/ppm/6+asym_sam4/ppm/6-asym_sam6/ppm/6-asym_sam7/ppm/6-asym_sam8/ppm/6 goodevtcut -title "Asym SAM (2+3+4-6-7-8)/6 (ppm)" -tree mul
#	asym_sam8/ppm/6+asym_sam1/ppm/6+asym_sam2/ppm/6-asym_sam4/ppm/6-asym_sam5/ppm/6-asym_sam6/ppm/6 goodevtcut -title "Asym SAM (8+1+2-4-5-6)/6 (ppm)" -tree mul
#	asym_sam1/ppm/6+asym_sam2/ppm/6+asym_sam3/ppm/6-asym_sam5/ppm/6-asym_sam6/ppm/6-asym_sam7/ppm/6 goodevtcut -title "Asym SAM (1+2+3-5-6-7)/6 (ppm)" -tree mul
#	asym_sam3/ppm/6+asym_sam4/ppm/6+asym_sam5/ppm/6-asym_sam7/ppm/6-asym_sam8/ppm/6-asym_sam1/ppm/6 goodevtcut -title "Asym SAM (3+4+5-7-8-1)/6 (ppm)" -tree mul
#	asym_sam3/ppm/4+asym_sam7/ppm/4-asym_sam1/ppm/4-asym_sam5/ppm/4 goodevtcut -title "Asym SAM (3+7-1-5)/4 (ppm)" -tree mul
#	asym_sam2/ppm/4+asym_sam6/ppm/4-asym_sam4/ppm/4-asym_sam8/ppm/4 goodevtcut -title "Asym SAM (2+6-4-8)/4 (ppm)" -tree mul

#newpage 2 4
#  title AT dets
#        yield_atl1:CodaEventNumber evcut  -tree mul -title "detector at-left1"
#        yield_atl1 evcut -title "yield at-left1" -tree mul
#        yield_atl2:CodaEventNumber evcut  -tree mul -title "detector at-left2"
#        yield_atl2 evcut -title "yield at-left2" -tree mul
#        yield_atr1:CodaEventNumber evcut  -tree mul -title "detector at-right1"
#        yield_atr1 evcut -title "yield at-right1" -tree mul
#        yield_atr2:CodaEventNumber evcut  -tree mul -title "detector at-right2"
#        yield_atr2 evcut -title "yield at-right2" -tree mul  
#newpage 3 2
#	title Dithering (in development...)
#     bmod_trim1:CodaEventNumber evcut -title "Dither Cycle: should eventually show bmwobj vs time" -tree evt
#     bpm12X:CodaEventNumber evcut -title "BPM12X vs time (should eventually be bmwphase)" -tree evt
#     bpm4aX:CodaEventNumber evcut -title  "BPM4aX vs time (should eventually be bmwphase)" -tree evt
#     bpm4aY:CodaEventNumber evcut -title "BPM4aY vs time (should eventually be bmwphase)"  -tree evt
#     bpm4eX:CodaEventNumber evcut -title  "BPM4eX vs time (should eventually be bmwphase)" -tree evt
#     bpm4eY:CodaEventNumber evcut -title "BPM4eY vs time (should eventually be bmwphase)"  -tree evt

newpage 2 2
  title Hall C Charge Feedback
        1e6*asym_hallc_bcm_4c:CodaEventNumber -tree mul -title "Hall C BCM Asym"
        yield_hallc_bcm_4c:CodaEventNumber -tree mul -title "Hall C BCM Yield"
        1e6*asym_hallc_bcm_4c yield_hallc_bcm_4c>2 -tree mul -title "Hall C BCM Asym - Mean ~ +-30"
        yield_hallc_bcm_4c yield_hallc_bcm_4c>2 -tree mul -title "Hall C BCM Yield - Feedback if > 4 uA"

newpage 1 3
	title Check Unser Scaler
	unser:BCM_scal_unser -tree evt
	(0.337*unser.hw_sum_raw/unser.num_samples+2152)-BCM_scal_unser:CodaEventNumber goodcut -tree evt
	(0.337*unser.hw_sum_raw/unser.num_samples+2152)-BCM_scal_unser goodcut -tree evt  -title "Should be around 1"

#newpage 4 3
#  title Integration Gate Timing
#    ch_clock_4mhz/4e3:ch_timebrd_integrationtime pat_phase==3 -tree evt
#    ch_clock_4mhz/4e3:ch_timebrd_integrationtime pat_phase!=3 -tree evt
#    ch_clock_4mhz/4e3:ch_timebrd_rampdelay pat_phase==3 -tree evt
#    ch_clock_4mhz/4e3:ch_timebrd_rampdelay pat_phase!=3 -tree evt
#    ch_tsettle:ch_timebrd_integrationtime pat_phase==3 -tree evt
#    ch_tsettle:ch_timebrd_integrationtime pat_phase!=3 -tree evt
#    ch_tsettle:ch_timebrd_rampdelay pat_phase==3 -tree evt
#    ch_tsettle:ch_timebrd_rampdelay pat_phase!=3 -tree evt
#    #qwk_0_2:ch_timebrd_integrationtime pat_phase==3 -tree evt
#    #qwk_0_2:ch_timebrd_integrationtime pat_phase!=3 -tree evt
#    #qwk_0_2:ch_timebrd_rampdelay pat_phase==3 -tree evt
#    #qwk_0_2:ch_timebrd_rampdelay pat_phase!=3 -tree evt
#
#newpage 2 3
#  title Line synch Monitor
#    ch_clock_4mhz/4e3 pat_phase==3 -tree evt
#    ch_clock_4mhz/4e3 pat_phase!=3 -tree evt
#    ch_clock_4mhz/4e3 ch_clock_4mhz<1000&&(Entry$>Entries$-20000) -tree evt
#    (ch_tstable_clock_4mhz-ch_clock_4mhz)/4e3 evcut -tree evt
#    (chouse_f1/chouse_fr)*(0.09+ch_tstable_clock_4mhz/4e3) evcut -tree evt
#    (chouse_f2/chouse_fr)*(0.09+ch_tstable_clock_4mhz/4e3) evcut -tree evt
#
#
##newpage 3 4
##  title Sync debugging 20k ev
##    inj_f1+inj_f2-chouse_f1-chouse_f2 evcut -title "Sync Check inj-CH, narrow good" -tree evt
##    rhrs_f1+rhrs_f2-chouse_f1-chouse_f2 evcut -title "Sync Check RHRS-CH, narrow good" -tree evt
##    lhrs_f1+lhrs_f2-chouse_f1-chouse_f2 evcut -title "Sync Check LHRS-CH, narrow good" -tree evt
##    (inj_f1+inj_f2):(chouse_f1+chouse_f2) evcut -title "Sync Check inj:CH, linear good" -tree evt
##    (rhrs_f1+rhrs_f2):(chouse_f1+chouse_f2) evcut -title "Sync Check RHRS:CH, linear good" -tree evt
##    (lhrs_f1+lhrs_f2):(chouse_f1+chouse_f2) evcut -title "Sync Check LHRS:CH, linear good" -tree evt
##    inj_f1+inj_f2-chouse_f1-chouse_f2:Entry$ evcut -title "Sync Check inj-CH, narrow good" -tree evt
##    rhrs_f1+rhrs_f2-chouse_f1-chouse_f2:Entry$ evcut -title "Sync Check RHRS-CH, narrow good" -tree evt
##    lhrs_f1+lhrs_f2-chouse_f1-chouse_f2:Entry$ evcut -title "Sync Check LHRS-CH, narrow good" -tree evt
##    (inj_f1+inj_f2):(chouse_f1+chouse_f2):Entry$ evcut -title "Sync Check inj:CH, linear good" -tree evt
##    (rhrs_f1+rhrs_f2):(chouse_f1+chouse_f2):Entry$ evcut -title "Sync Check RHRS:CH, linear good" -tree evt
##    (lhrs_f1+lhrs_f2):(chouse_f1+chouse_f2):Entry$ evcut -title "Sync Check LHRS:CH, linear good" -tree evt
##
#newpage 4 2
#  title DAQ Timing Check
#    ch_MPS_single:Entry$
#    ch_TI_busy:Entry$
#    ch_clock_4mhz:Entry$
#    ch_tstable_clock_4mhz:Entry$
#    ch_MPS_single
#    ch_TI_busy
#    ch_clock_4mhz
#    ch_tstable_clock_4mhz

newpage 3 4
  title Sync Check and TS tagger sync Check
    inj_f1+inj_f2-chouse_f1-chouse_f2 nocut -title "Sync Check inj-CH, narrow good" -tree evt
    rhrs_f1+rhrs_f2-chouse_f1-chouse_f2 nocut -title "Sync Check RHRS-CH, narrow good" -tree evt
    lhrs_f1+lhrs_f2-chouse_f1-chouse_f2 nocut -title "Sync Check LHRS-CH, narrow good" -tree evt
    (inj_f1+inj_f2):(chouse_f1+chouse_f2) nocut -title "Sync Check inj:CH, linear good" -tree evt
    (rhrs_f1+rhrs_f2):(chouse_f1+chouse_f2) nocut -title "Sync Check RHRS:CH, linear good" -tree evt
    (lhrs_f1+lhrs_f2):(chouse_f1+chouse_f2) nocut -title "Sync Check LHRS:CH, linear good" -tree evt
    abs((lhrs_tstagger&0xf)-(ch_tstagger&0xf)):CodaEventNumber nocut -type box -title "LHRS sync check, must be zero!" -tree evt
    abs((rhrs_tstagger&0xf)-(ch_tstagger&0xf)):CodaEventNumber nocut -type box -title "RHRS sync check, must be zero!" -tree evt
    abs((inj_tstagger&0x5)-(ch_tstagger&0x5)):CodaEventNumber nocut -type box -title "Inj sync check, must be zero!" -tree evt
    #ch_tstagger&0xf nocut -title "4 bits of CH Event Number, should be flat" -tree evt
    #lhrs_tstagger&0xf nocut -title "4 bits of LHRS Event Number, should be flat" -tree evt
    #inj_tstagger&0xf nocut -title "2 bits of INJ Event Number, should be flat" -tree evt
    ch_tstagger&0xf:lhrs_tstagger&0xf nocut -title "4 bits of LHRS TS Tagger, should be linear" -tree evt -type scat
    ch_tstagger&0xf:rhrs_tstagger&0xf nocut -title "4 bits of RHRS TS Tagger, should be linear" -tree evt -type scat
    ch_tstagger&0x5:inj_tstagger&0x5 nocut -title "2 bits of INJ TS Tagger, should be linear" -tree evt -type scat

#newpage 1 1
#    title BMW alphas and deltas - 4aX
#	macro macros/BeamMod/plotAD.C(999999,1357642)

newpage 1 1
    title BMW alphas and deltas - 1X
	macro macros/BeamMod/plotAD_1X.C(999999,1357642)
  #macro macros/BeamMod/realtimeBmodAna.C()

newpage 1 2
    title BMW chart
	macro macros/BeamMod/BeamModPlot.C("evt")
  yield_bmwobj:CodaEventNumber bmwon -tree mul -type *

#newpage 2 3
#  title BMW Pos Diffs vs time
#      diff_bpm4aX/um:CodaEventNumber bmwon -tree mul
#      diff_bpm4aY/um:CodaEventNumber bmwon -tree mul
#      diff_bpm4eX/um:CodaEventNumber bmwon -tree mul
#      diff_bpm4eY/um:CodaEventNumber bmwon -tree mul
#      diff_bpm12X/um:CodaEventNumber bmwon -tree mul
#      yield_bmwobj:CodaEventNumber bmwon -tree mul -type *
